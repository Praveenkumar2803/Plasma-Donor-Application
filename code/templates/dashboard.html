
<!doctype html>
{% extends "base.html" %}
{% block content %}

{% with messages = get_flashed_messages() %}
{%if messages%}
    {%for mess in messages%}
  <div class="alert alert-warning alert-dismissible fade show" role="alert">
<strong>{{mess}}</strong>
<button type="button" class="close" data-dismiss="alert" aria-label="Close">
  <span aria-hidden="true">&times;</span>
</button>
</div>

    {%endfor%}
{%endif%}
{% endwith %}

     {% if session['logged_in'] == True %}

     {%else%}

     {%endif%}


<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </head>
  <body> 
    
    <div class="card border-danger text-center">
      <div class="card-header">Total Plasma in plasma bank</div>
      <div class="card-body text-danger">
        <h5 class="card-title"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['1']}}</span> Donors</h5>
      </div>
    </div>
    <br>



        <div class="container">
  <div class="row">
    <div class="col"><div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
      <div class="card-header">O positive</div>
    <div class="card-body">
      <h5 class="card-title"><span class='numscroller' data-min='1' data-delay='5' data-increment='10'>{{b['2']}}</span> </h5>

    </div>
  </div></div>
    <div class="col"><div class="card text-white bg-secondary mb-3" style="max-width: 18rem;">
      <div class="card-header">A positive</div>
    <div class="card-body">
      <h5 class="card-title"><span class="count"><span class='numscroller'  data-delay='5' data-increment='10'>{{b['3']}}</span></span> </h5>

    </div>
    </div></div>
    <div class="col"><div class="card text-white bg-success mb-3" style="max-width: 18rem;">
      <div class="card-header">B positive</div>
    <div class="card-body">
      <h5 class="card-title"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['4']}}</span> </h5>

    </div>
    </div></div>
    <div class="col"><div class="card text-white bg-danger mb-3" style="max-width: 18rem;">
      <div class="card-header"> AB positive</div>
    <div class="card-body">
      <h5 class="card-title"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['5']}}</span> </h5>
      <p class="card-text"></p>
    </div>
    </div></div>

    <div class="w-100"></div>

    <div class="col"><div class="card text-white bg-warning mb-3" style="max-width: 18rem;">
      <div class="card-header">O negative</div>
    <div class="card-body">
      <h5 class="card-title"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['6']}}</span> </h5>

    </div>
    </div></div>
    <div class="col"><div class="card text-white bg-info mb-3" style="max-width: 18rem;">
      <div class="card-header">A negative</div>
    <div class="card-body">
      <h5 class="card-title"><span class="count"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['7']}}</span></span></h5>

    </div>
    </div></div>
    <div class="col"><div class="card bg-light mb-3" style="max-width: 18rem;">
      <div class="card-header">B negative</div>
    <div class="card-body">
      <h5 class="card-title"><span class="count"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['8']}}</span> </h5>

    </div>
    </div></div>
    <div class="col"><div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
      <div class="card-header">AB negative</div>
    <div class="card-body">
      <h5 class="card-title"><span class="count"><span class='numscroller' data-min='1'  data-delay='5' data-increment='10'>{{b['9']}}</span></h5>

    </div>
    </div></div>
  </div>
</div>


    <br><br>
    <div class="card">
      <div class="card-header">
       Registered Donor:
      </div>
      <div class="card-body">
        <table class="table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Type</th>
              <th scope="col">Donorname</th>
              <th scope="col">Donorsex</th>
              <th scope="col">Qty</th>
              <th scope="col">DWeight</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              
              
              
            </tr>
          </thead>
          <tbody>
            <tr>
              {% for user in users %}
              
              <td>{{user['TYPE']}}</td>
              <td>{{user['DONORNAME']}}</td>
              <td>{{user['DONORSEX']}}</td>
              <td>{{user['QTY']}}</td>
              <td>{{user['DWEIGTH']}}</td>
              <td>{{user['EMAIL']}}</td>
              <td>{{user['PHONE']}}</td>
             
            <td><button type="button" class="btn btn-primary mt-1" data-toggle="modal" data-target="#exampleModalCenter">
              contact for Plasma
            </button>
            <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle">contact for plasma</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <form method="POST" action="{{url_for('contactforplasma',emailid=user['EMAIL'])}}">
                      <label for="name">Name</label>
                      <input type = "text" name = "name" value="admin@plasmabank.com" class="form-control" required/>
                    <label for="address"> confirm your Address</label>
                   <input type="text" name="address" class="form-control" value="admin's address" required></textarea>
                   <button type="button" class="btn btn-secondary mt-1" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary mt-1">send request</button>
                  </div>
                </div>
              </div>
            </div>
          </td>
                           <td><a href = "{{url_for('deleteuser',useremail=user['EMAIL'])}}" class="btn btn-danger">delete user</a></td>
                        </tr>
                  
            {% endfor %}
            


           





      

            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <br><br>
    
  </body>
</html>

{% endblock %}
